<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE Map>
<Map bgcolor="transparent" srs="+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs +over">

<Style name="points">
    <Rule>
      <MaxScaleDenominator>50000</MaxScaleDenominator>
      <Filter>[amenity]='drinking_water'</Filter>
      <PointSymbolizer file= "/media/Stockage/Data/Sites/map/img/Drop.png" type="png" width="20" height="20" />
    </Rule>
    <Rule>
      <MaxScaleDenominator>50000</MaxScaleDenominator>
      <Filter>[amenity]='bicycle_rental'</Filter>
      <PointSymbolizer file= "/media/Stockage/Data/Sites/map/img/rental_bicycle.png" type="png" width="20" height="20" />
    </Rule>
    <Rule>
      <MaxScaleDenominator>50000</MaxScaleDenominator>
      <Filter>[shop]='bicycle'</Filter>
      <PointSymbolizer file= "/media/Stockage/Data/Sites/map/img/shop_bicycle.png" type="png" width="20" height="20" />
    </Rule>
<Rule>
      <MaxScaleDenominator>25000</MaxScaleDenominator>
      <Filter>[amenity]='hospital'</Filter>
      <PointSymbolizer file= "/media/Stockage/Data/Sites/map/mapnikOsm/symbols/hospital.p.16.png" type="png" width="16" height="16" />
    </Rule>
<Rule>
      <MaxScaleDenominator>5000</MaxScaleDenominator>
      <Filter>[amenity]='pharmacy'</Filter>
      <PointSymbolizer file= "/media/Stockage/Data/Sites/map/mapnikOsm/symbols/pharmacy.p.16.png" type="png" width="16" height="16" />
    </Rule>
    <Rule>
      <MaxScaleDenominator>5000</MaxScaleDenominator>
      <Filter>[amenity]='toilets'</Filter>
      <PointSymbolizer file= "/media/Stockage/Data/Sites/map/mapnikOsm/symbols/toilets.p.20.png" type="png" width="20" height="20" />
    </Rule>
    <Rule>
      <MaxScaleDenominator>10000</MaxScaleDenominator>
      <Filter>[tourism]='viewpoint'</Filter>
      <PointSymbolizer file= "/media/Stockage/Data/Sites/map/mapnikOsm/symbols/view_point.p.16.png" type="png" width="16" height="16" />
    </Rule>
    <Rule>
      <MaxScaleDenominator>20000</MaxScaleDenominator>
      <Filter>[amenity]='bicycle_parking'</Filter>
      <PointSymbolizer file= "/media/Stockage/Data/Sites/map/mapnikOsm/symbols/parking.p.16.png" type="png" width="16" height="16" allow_overlap="false"/>
    </Rule>
    <Rule>
      <MaxScaleDenominator>20000</MaxScaleDenominator>
      <Filter>[amenity]='air_filling'</Filter>
      <PointSymbolizer file= "/media/Stockage/Data/Sites/map/img/AirFilling.png" type="png" width="16" height="16" allow_overlap="false"/>
    </Rule>
</Style>

<Style name="roads-text-low-zoom">
<Rule>
      <Filter>([highway] = 'tertiary' and [length] = 1) and not [bridge]='yes'</Filter>
      <MaxScaleDenominator>25000</MaxScaleDenominator>
      <MinScaleDenominator>7000</MinScaleDenominator>
      <ShieldSymbolizer name="name" face_name="DejaVu Sans Bold" size="10" fill="#fff" placement="line" file= "/media/Stockage/Data/Sites/map/mapnikOsm/symbols/ter_shield1.png" type="png" width="17" height="17" min_distance="18" spacing="750"/>
    </Rule>
    <Rule>
      <Filter>([highway] = 'tertiary' and [length] = 2) and not [bridge]='yes'</Filter>
      <MaxScaleDenominator>25000</MaxScaleDenominator>
      <MinScaleDenominator>7000</MinScaleDenominator>
      <ShieldSymbolizer name="name" face_name="DejaVu Sans Bold" size="10" fill="#fff" placement="line" file= "/media/Stockage/Data/Sites/map/mapnikOsm/symbols/ter_shield2.png" type="png" width="24" height="17" min_distance="18" spacing="750"/>
    </Rule>
    <Rule>
      <Filter>([highway] = 'tertiary' and [length] = 3) and not [bridge]='yes'</Filter>
      <MaxScaleDenominator>25000</MaxScaleDenominator>
      <MinScaleDenominator>7000</MinScaleDenominator>
      <ShieldSymbolizer name="name" face_name="DejaVu Sans Bold" size="10" fill="#fff" placement="line" file= "/media/Stockage/Data/Sites/map/mapnikOsm/symbols/ter_shield3.png" type="png" width="31" height="17" min_distance="18" spacing="750"/>
    </Rule>
    <Rule>
      <Filter>([highway] = 'tertiary' and [length] = 4) and not [bridge]='yes'</Filter>
      <MaxScaleDenominator>25000</MaxScaleDenominator>
      <MinScaleDenominator>7000</MinScaleDenominator>
      <ShieldSymbolizer name="name" face_name="DejaVu Sans Bold" size="10" fill="#fff" placement="line" file= "/media/Stockage/Data/Sites/map/mapnikOsm/symbols/ter_shield4.png" type="png" width="38" height="17" min_distance="18" spacing="750"/>
    </Rule>
    <Rule>
      <Filter>([highway] = 'tertiary' and [length] = 5) and not [bridge]='yes'</Filter>
      <MaxScaleDenominator>25000</MaxScaleDenominator>
      <MinScaleDenominator>7000</MinScaleDenominator>
      <ShieldSymbolizer name="name" face_name="DejaVu Sans Bold" size="10" fill="#fff" placement="line" file= "/media/Stockage/Data/Sites/map/mapnikOsm/symbols/ter_shield5.png" type="png" width="45" height="17" min_distance="18" spacing="750"/>
    </Rule>
    <Rule>
      <Filter>([highway] = 'tertiary' and [length] = 6) and not [bridge]='yes'</Filter>
      <MaxScaleDenominator>25000</MaxScaleDenominator>
      <MinScaleDenominator>7000</MinScaleDenominator>
      <ShieldSymbolizer name="name" face_name="DejaVu Sans Bold" size="10" fill="#fff" placement="line" file= "/media/Stockage/Data/Sites/map/mapnikOsm/symbols/ter_shield6.png" type="png" width="52" height="17" min_distance="18" spacing="750"/>
    </Rule>
    <Rule>
      <Filter>([highway] = 'tertiary' and [length] = 7) and not [bridge]='yes'</Filter>
      <MaxScaleDenominator>25000</MaxScaleDenominator>
      <MinScaleDenominator>7000</MinScaleDenominator>
      <ShieldSymbolizer name="name" face_name="DejaVu Sans Bold" size="10" fill="#fff" placement="line" file= "/media/Stockage/Data/Sites/map/mapnikOsm/symbols/ter_shield7.png" type="png" width="59" height="17" min_distance="18" spacing="750"/>
    </Rule>
    <Rule>
      <Filter>([highway] = 'tertiary' and [length] = 8) and not [bridge]='yes'</Filter>
      <MaxScaleDenominator>25000</MaxScaleDenominator>
      <MinScaleDenominator>7000</MinScaleDenominator>
      <ShieldSymbolizer name="name" face_name="DejaVu Sans Bold" size="10" fill="#fff" placement="line" file= "/media/Stockage/Data/Sites/map/mapnikOsm/symbols/ter_shield8.png" type="png" width="66" height="17" min_distance="18" spacing="750"/>
    </Rule>
    <Rule>
      <Filter>[highway] = 'tertiary'</Filter>
      <MaxScaleDenominator>25000</MaxScaleDenominator>
      <MinScaleDenominator>7000</MinScaleDenominator>
      <TextSymbolizer name="name" face_name="DejaVu Sans Book" size="9" fill="#000" halo_radius="1"  placement="line" />
    </Rule>
    <Rule>
      <Filter>[highway] = 'unclassified' or [highway] = 'residential'</Filter>
      <MaxScaleDenominator>10000</MaxScaleDenominator>
      <MinScaleDenominator>7000</MinScaleDenominator>
      <TextSymbolizer name="name" face_name="DejaVu Sans Book" size="9" fill="#000" halo_radius="1" spacing="300" placement="line" />
    </Rule>
</Style>
<Style name="stations">
    <Rule>
      <MaxScaleDenominator>20000</MaxScaleDenominator>
      <Filter>[railway]='station' and not [disused]='yes'</Filter>
      <TextSymbolizer name="name" face_name="DejaVu Sans Bold" size="11" fill="#66f" dy="-14" halo_radius="1" wrap_width="0"/>
    </Rule>
    <Rule>
      <MaxScaleDenominator>20000</MaxScaleDenominator>
      <Filter>[railway]='station' and [disused]='yes'</Filter>
      <TextSymbolizer name="name" face_name="DejaVu Sans Bold" size="9" fill="grey" dy="-9" halo_radius="1" wrap_width="0"/>
    </Rule>
</Style>

<Layer name="amenity" status="on" srs="+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs +over">
    <!--StyleName>stations</StyleName>    
    <StyleName>symbols</StyleName-->
    <StyleName>points</StyleName>
    <Datasource>
      <Parameter name="type">postgis</Parameter>
      <Parameter name="host">localhost</Parameter>
      <Parameter name="port">5432</Parameter>
      <Parameter name="user">tilegen</Parameter>
      <Parameter name="password">tilegen</Parameter>
      <Parameter name="dbname">gis</Parameter>
      <Parameter name="table">(select * from planet_osm_point 
where barrier IS NOT NULL 
or amenity IS NOT NULL 
or tourism is NOT NULL 
or railway is NOT NULL 
or "natural" is NOT NULL 
or highway is NOT NULL 
or aeroway is NOT NULL 
or aerialway is NOT NULL 
or power_source is NOT NULL 
or man_made is NOT NULL
or shop is NOT NULL) as amenity</Parameter>
      <Parameter name="estimate_extent">false</Parameter>
      <Parameter name="extent">-20037508,-19929239,20037508,19929239</Parameter>
    </Datasource>
</Layer>
<Layer name="planet roads text osm low zoom" status="on" srs="+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs +over">
     <StyleName>roads-text-low-zoom</StyleName>
     <Datasource>
      <Parameter name="type">postgis</Parameter>
      <Parameter name="host">localhost</Parameter>
      <Parameter name="port">5432</Parameter>
      <Parameter name="user">tilegen</Parameter>
      <Parameter name="password">tilegen</Parameter>
      <Parameter name="dbname">gis</Parameter>
      <Parameter name="table">
      (select way,highway,ref,char_length(ref) as length, bridge, name
       from planet_osm_roads
       where highway in ('tertiary','unclassified','residential')
       and name is not null
      ) as roads
      </Parameter>
      <Parameter name="estimate_extent">false</Parameter>
      <Parameter name="extent">-20037508,-19929239,20037508,19929239</Parameter>
    </Datasource>
</Layer>
<Layer name="amenity" status="on" srs="+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs +over">
    <StyleName>stations</StyleName>    
    <StyleName>symbols</StyleName>
    <StyleName>points</StyleName>
    <Datasource>
      <Parameter name="type">postgis</Parameter>
      <Parameter name="host">localhost</Parameter>
      <Parameter name="port">5432</Parameter>
      <Parameter name="user">tilegen</Parameter>
      <Parameter name="password">tilegen</Parameter>
      <Parameter name="dbname">gis</Parameter>
      <Parameter name="table">(select * from planet_osm_point where barrier IS NOT NULL or amenity IS NOT NULL or tourism is NOT NULL or railway is NOT NULL or "natural" is NOT NULL or highway is NOT NULL or aeroway is NOT NULL or aerialway is NOT NULL or power_source is NOT NULL or man_made is NOT NULL) as amenity</Parameter>
      <Parameter name="estimate_extent">false</Parameter>
      <Parameter name="extent">-20037508,-19929239,20037508,19929239</Parameter>
    </Datasource>
</Layer>
</Map>

